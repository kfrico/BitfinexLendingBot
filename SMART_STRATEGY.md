# ðŸ§  æ™ºèƒ½ç­–ç•¥æ–‡æª”

## ðŸ“‹ æ¦‚è¿°

æ™ºèƒ½ç­–ç•¥æ˜¯å°åŽŸæœ‰å‚³çµ±ç­–ç•¥çš„å…¨é¢å‡ç´šï¼Œé€šéŽå¸‚å ´åˆ†æžã€å‹•æ…‹èª¿æ•´å’Œç«¶çˆ­å°æ‰‹åˆ†æžä¾†å„ªåŒ–å€Ÿè²¸æ”¶ç›Šã€‚æ™ºèƒ½ç­–ç•¥ä¿æŒäº†åŽŸæœ‰ç­–ç•¥çš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼ŒåŒæ™‚åŠ å…¥äº†è‡ªé©æ‡‰æ©Ÿåˆ¶ã€‚

## ðŸ†š å‚³çµ±ç­–ç•¥ vs æ™ºèƒ½ç­–ç•¥

| ç‰¹æ€§ | å‚³çµ±ç­–ç•¥ | æ™ºèƒ½ç­–ç•¥ |
|------|---------|---------|
| é«˜é¡æŒæœ‰åˆ©çŽ‡ | å›ºå®š 0.5% | å‹•æ…‹èª¿æ•´ (0.4%-1.0%) |
| è³‡é‡‘é…ç½® | å›ºå®š 50/50 | æ ¹æ“šå¸‚å ´èª¿æ•´ (20/80 - 80/20) |
| æœŸé–“é¸æ“‡ | åŸºæ–¼åˆ©çŽ‡é–¾å€¼ | åŸºæ–¼å¸‚å ´è¶¨å‹¢ + åˆ©çŽ‡ |
| å¸‚å ´é©æ‡‰æ€§ | ç„¡ | è¶¨å‹¢åˆ†æž + æ³¢å‹•çŽ‡ç›£æŽ§ |
| ç«¶çˆ­åˆ†æž | ç„¡ | å‹•æ…‹ç«¶çˆ­å°æ‰‹åˆ†æž |
| æ·±åº¦ç¯„åœ | å›ºå®š 10-5000 | å‹•æ…‹èª¿æ•´ 5-3000 |

## ðŸ”§ æ ¸å¿ƒåŠŸèƒ½

### 1. ðŸ“ˆ å¸‚å ´è¶¨å‹¢åˆ†æž
- **è¶¨å‹¢è­˜åˆ¥**: è‡ªå‹•è­˜åˆ¥ "rising", "falling", "stable" ä¸‰ç¨®è¶¨å‹¢
- **æ³¢å‹•çŽ‡è¨ˆç®—**: ç›£æŽ§å¸‚å ´æ³¢å‹•ç¨‹åº¦
- **æ­·å²æ•¸æ“š**: ä¿ç•™48å€‹æ•¸æ“šé»ž (12å°æ™‚æ­·å²)

```go
// è¶¨å‹¢åˆ¤æ–·é‚è¼¯
if upCount >= 4 { return "rising" }
if downCount >= 4 { return "falling" }
return "stable"
```

### 2. ðŸŽ¯ å‹•æ…‹é«˜é¡æŒæœ‰ç­–ç•¥
æ ¹æ“šå¸‚å ´ç‹€æ³èª¿æ•´é«˜é¡æŒæœ‰åˆ©çŽ‡ï¼š

| å¸‚å ´è¶¨å‹¢ | åˆ©çŽ‡èª¿æ•´ç­–ç•¥ |
|---------|-------------|
| ä¸Šå‡ (rising) | æé«˜è‡³å¸‚å ´åˆ©çŽ‡çš„85%ï¼Œæœ€é«˜1.5å€åŸºæº– |
| ä¸‹é™ (falling) | ä¿æŒåŸºæº–åˆ©çŽ‡ï¼ŒéŽ–å®šæ”¶ç›Š |
| ç©©å®š (stable) | é©åº¦èª¿æ•´è‡³å¸‚å ´åˆ©çŽ‡çš„80%ï¼Œæœ€é«˜1.3å€åŸºæº– |

### 3. ðŸ’° è‡ªé©æ‡‰è³‡é‡‘é…ç½®
æ ¹æ“šå¸‚å ´ç‹€æ³å‹•æ…‹èª¿æ•´é«˜é¡æŒæœ‰èˆ‡åˆ†æ•£è²¸å‡ºçš„æ¯”ä¾‹ï¼š

| æ¢ä»¶ | é«˜é¡æŒæœ‰æ¯”ä¾‹ | åˆ†æ•£è²¸å‡ºæ¯”ä¾‹ |
|------|-------------|-------------|
| ä¸Šå‡è¶¨å‹¢ | 30% | 70% |
| ä¸‹é™è¶¨å‹¢ | 70% | 30% |
| ç©©å®šå¸‚å ´ | 50% | 50% |
| é«˜æ³¢å‹• | +10% | -10% |
| é«˜åˆ©çŽ‡æ¯”ä¾‹ | +10% | -10% |

### 4. â° æ™ºèƒ½æœŸé–“é¸æ“‡
çµåˆåˆ©çŽ‡æ°´å¹³å’Œå¸‚å ´è¶¨å‹¢é¸æ“‡æœ€ä½³æœŸé–“ï¼š

```go
// åŸºç¤Žé‚è¼¯ + è¶¨å‹¢èª¿æ•´
switch marketTrend {
case "rising":
    // åå‘çŸ­æœŸï¼Œä¾¿æ–¼é‡æ–°å®šåƒ¹
    if period == 120 { period = 30 }
    if period == 30 { period = 2 }
case "falling":
    // éŽ–å®šç•¶å‰è¼ƒå¥½åˆ©çŽ‡
    if rate > avgRate*1.1 && period == 2 { period = 30 }
}
```

### 5. ðŸ† ç«¶çˆ­å°æ‰‹åˆ†æž
åˆ†æžå‰10å±¤åˆ©çŽ‡å·®ï¼Œè¨ˆç®—ç«¶çˆ­å„ªå‹¢ï¼š

```go
// å»ºè­°åˆ©çŽ‡ = æœ€ä½³åˆ©çŽ‡ + å¹³å‡åƒ¹å·® Ã— 0.3
suggestedRate = bestRate + avgSpread * 0.3
```

### 6. ðŸ“Š å‹•æ…‹æ·±åº¦ç¯„åœ
æ ¹æ“šè³‡é‡‘é‡å’Œå¸‚å ´ç‹€æ³èª¿æ•´è¨‚å–®ç°¿æ·±åº¦ï¼š

| è³‡é‡‘é‡ | åŸºç¤Žç¯„åœ | è¶¨å‹¢èª¿æ•´ | æ³¢å‹•èª¿æ•´ |
|--------|---------|---------|---------|
| > 1000 | 5-3000 | Â±20% | +30% |
| > 500 | 8-2000 | Â±20% | +30% |
| < 500 | 10-1000 | Â±20% | +30% |

## âš™ï¸ é…ç½®åƒæ•¸

### æ–°å¢žæ™ºèƒ½ç­–ç•¥åƒæ•¸ï¼š

```yaml
# æ™ºèƒ½ç­–ç•¥è¨­å®š
ENABLE_SMART_STRATEGY: true     # å•Ÿç”¨æ™ºèƒ½ç­–ç•¥

# ä»¥ä¸‹åƒæ•¸å¯ä»¥çœç•¥ï¼Œç³»çµ±æœƒè‡ªå‹•ä½¿ç”¨é è¨­å€¼
VOLATILITY_THRESHOLD: 0.002     # é«˜æ³¢å‹•é–¾å€¼ (é è¨­: 0.002)
MAX_RATE_MULTIPLIER: 2.0        # æœ€å¤§åˆ©çŽ‡å€æ•¸ (é è¨­: 2.0)
MIN_RATE_MULTIPLIER: 0.8        # æœ€å°åˆ©çŽ‡å€æ•¸ (é è¨­: 0.8)
```

### ðŸ”§ é è¨­å€¼ç³»çµ±
å¦‚æžœé…ç½®æ–‡ä»¶ä¸­æ²’æœ‰è¨­ç½®é€™äº›åƒæ•¸ï¼Œç³»çµ±æœƒè‡ªå‹•ä½¿ç”¨ä»¥ä¸‹é è¨­å€¼ï¼š
- `VOLATILITY_THRESHOLD: 0.002`
- `MAX_RATE_MULTIPLIER: 2.0`
- `MIN_RATE_MULTIPLIER: 0.8`

### ç°¡åŒ–é…ç½®
ä½ å¯ä»¥åªè¨­ç½® `ENABLE_SMART_STRATEGY: true`ï¼Œå…¶ä»–åƒæ•¸æœƒè‡ªå‹•ä½¿ç”¨å»ºè­°çš„é è¨­å€¼ï¼š

```yaml
# æœ€ç°¡é…ç½® - ä½¿ç”¨æ‰€æœ‰é è¨­å€¼
ENABLE_SMART_STRATEGY: true
```

### åƒæ•¸èªªæ˜Žï¼š
- **ENABLE_SMART_STRATEGY**: æŽ§åˆ¶æ˜¯å¦ä½¿ç”¨æ™ºèƒ½ç­–ç•¥
- **VOLATILITY_THRESHOLD**: æ³¢å‹•çŽ‡è¶…éŽæ­¤å€¼è¦–ç‚ºé«˜æ³¢å‹•å¸‚å ´ï¼Œå½±éŸ¿ï¼š
  - è³‡é‡‘é…ç½®æ¯”ä¾‹èª¿æ•´ (+10% ä¿å®ˆé…ç½®)
  - åˆ†æ•£è²¸å‡ºæ•¸é‡æ¸›å°‘ (70% å€æ•¸)
  - æœŸé–“é¸æ“‡åå‘çŸ­æœŸ
- **MAX_RATE_MULTIPLIER**: å‹•æ…‹åˆ©çŽ‡çš„æœ€å¤§å€æ•¸é™åˆ¶ (ç›¸å°åŸºç¤Žåˆ©çŽ‡)ï¼Œç”¨æ–¼ï¼š
  - ä¸Šå‡è¶¨å‹¢æ™‚çš„å‹•æ…‹é«˜é¡æŒæœ‰åˆ©çŽ‡ä¸Šé™
  - ç©©å®šå¸‚å ´æ™‚çš„åˆ©çŽ‡èª¿æ•´ä¸Šé™
- **MIN_RATE_MULTIPLIER**: å‹•æ…‹åˆ©çŽ‡çš„æœ€å°å€æ•¸é™åˆ¶ (ç›¸å°åŸºç¤Žåˆ©çŽ‡)ï¼Œç”¨æ–¼ï¼š
  - ç¢ºä¿æ‰€æœ‰è¶¨å‹¢ä¸‹çš„æœ€ä½Žåˆ©çŽ‡ä¿éšœ
  - é˜²æ­¢åˆ©çŽ‡èª¿æ•´éŽä½Ž

## ðŸ“± Telegram æŒ‡ä»¤

### æ–°å¢žæŒ‡ä»¤ï¼š
- `/strategy` - é¡¯ç¤ºç•¶å‰ç­–ç•¥ç‹€æ…‹
- `/smartstrategy on` - å•Ÿç”¨æ™ºèƒ½ç­–ç•¥
- `/smartstrategy off` - åœç”¨æ™ºèƒ½ç­–ç•¥

### ç­–ç•¥ç‹€æ…‹é¡¯ç¤ºï¼š
```
ðŸ“Š ç•¶å‰ç­–ç•¥ç‹€æ…‹
ç­–ç•¥é¡žåž‹: æ™ºèƒ½ç­–ç•¥ (å•Ÿç”¨)

ðŸ§  æ™ºèƒ½ç­–ç•¥è¨­å®š:
æ³¢å‹•çŽ‡é–¾å€¼: 0.0020
æœ€å¤§åˆ©çŽ‡å€æ•¸: 2.0x
æœ€å°åˆ©çŽ‡å€æ•¸: 0.8x

æ™ºèƒ½åŠŸèƒ½:
âœ… å‹•æ…‹åˆ©çŽ‡èª¿æ•´
âœ… å¸‚å ´è¶¨å‹¢åˆ†æž  
âœ… æ™ºèƒ½æœŸé–“é¸æ“‡
âœ… ç«¶çˆ­å°æ‰‹åˆ†æž
âœ… è‡ªé©æ‡‰è³‡é‡‘é…ç½®
```

## ðŸ“ˆ é æœŸæ”¶ç›Šæå‡

### ç†è«–æ”¶ç›Šæ”¹å–„ï¼š
1. **å‹•æ…‹åˆ©çŽ‡èª¿æ•´**: +5-15% å¹´åŒ–æ”¶ç›Š
2. **æ™ºèƒ½æœŸé–“é¸æ“‡**: +3-8% å¹´åŒ–æ”¶ç›Š  
3. **ç«¶çˆ­å°æ‰‹åˆ†æž**: +2-5% å¹´åŒ–æ”¶ç›Š
4. **å¸‚å ´é©æ‡‰æ€§**: +5-10% å¹´åŒ–æ”¶ç›Š

### é¢¨éšªæŽ§åˆ¶ï¼š
- ä¿ç•™æ‰€æœ‰åŽŸæœ‰é¢¨éšªæŽ§åˆ¶æ©Ÿåˆ¶
- å¢žåŠ æ³¢å‹•çŽ‡ç›£æŽ§
- æ™ºèƒ½æœŸé–“é¸æ“‡é™ä½Žæµå‹•æ€§é¢¨éšª
- å‹•æ…‹é…ç½®å¹³è¡¡é¢¨éšªå’Œæ”¶ç›Š

## ðŸš€ ä½¿ç”¨å»ºè­°

### é¦–æ¬¡ä½¿ç”¨ï¼š
1. ä¿æŒæ™ºèƒ½ç­–ç•¥å•Ÿç”¨ (`ENABLE_SMART_STRATEGY: true`)
2. ä½¿ç”¨é»˜èªæ³¢å‹•çŽ‡é–¾å€¼ (0.002)
3. è§€å¯Ÿæ—¥èªŒä¸­çš„å¸‚å ´åˆ†æžä¿¡æ¯
4. æ ¹æ“šå¯¦éš›æ•ˆæžœèª¿æ•´åƒæ•¸

### ðŸ“Š å»ºè­°å€¼è¡¨æ ¼ï¼š

| é¢¨éšªåå¥½ | VOLATILITY_THRESHOLD | MAX_RATE_MULTIPLIER | MIN_RATE_MULTIPLIER | é©ç”¨å ´æ™¯ |
|---------|---------------------|-------------------|-------------------|---------|
| ðŸ›¡ï¸ **ä¿å®ˆ** | 0.001 | 1.5 | 0.9 | ç©©å®šæ”¶ç›Šã€ä½Žé¢¨éšª |
| âš–ï¸ **å¹³è¡¡** | 0.002 | 2.0 | 0.8 | é è¨­å€¼ã€å‡è¡¡ç­–ç•¥ |
| âš¡ **æ¿€é€²** | 0.003 | 3.0 | 0.7 | è¿½æ±‚é«˜æ”¶ç›Šã€æ‰¿å—æ³¢å‹• |

### é€²éšŽå„ªåŒ–ï¼š
1. **ä¿å®ˆç”¨æˆ¶**: è¤‡è£½ä¿å®ˆé…ç½®ï¼Œé©åˆç©©å®šæ”¶ç›Š
2. **æ¿€é€²ç”¨æˆ¶**: è¤‡è£½æ¿€é€²é…ç½®ï¼Œé©åˆè¿½æ±‚é«˜æ”¶ç›Š
3. **å¤§è³‡é‡‘**: ä½¿ç”¨å¹³è¡¡é…ç½®ï¼Œæ™ºèƒ½ç­–ç•¥æœƒè‡ªå‹•èª¿æ•´æ·±åº¦ç¯„åœ
4. **å°è³‡é‡‘**: ä½¿ç”¨ä¿å®ˆé…ç½®ï¼Œé™ä½Žé¢¨éšª

### ðŸŽ¯ å¿«é€Ÿé…ç½®ç¯„æœ¬ï¼š

**ä¿å®ˆé…ç½®:**
```yaml
ENABLE_SMART_STRATEGY: true
VOLATILITY_THRESHOLD: 0.001
MAX_RATE_MULTIPLIER: 1.5
MIN_RATE_MULTIPLIER: 0.9
```

**æ¿€é€²é…ç½®:**
```yaml
ENABLE_SMART_STRATEGY: true
VOLATILITY_THRESHOLD: 0.003
MAX_RATE_MULTIPLIER: 3.0
MIN_RATE_MULTIPLIER: 0.7
```

### ðŸ“Š åƒæ•¸æ•ˆæžœç¤ºä¾‹ï¼š

**å ´æ™¯1: å¸‚å ´åˆ©çŽ‡ä¸Šå‡ (0.3% â†’ 0.6%)**
```
åŸºç¤Žåˆ©çŽ‡: 0.5%
MAX_RATE_MULTIPLIER: 2.0
MIN_RATE_MULTIPLIER: 0.8

çµæžœ: å‹•æ…‹åˆ©çŽ‡ = min(0.6% Ã— 0.85, 0.5% Ã— 2.0) = 0.51%
     (ç›¸æ¯”å›ºå®š0.5%ï¼Œæå‡2%)
```

**å ´æ™¯2: é«˜æ³¢å‹•å¸‚å ´**
```
VOLATILITY_THRESHOLD: 0.002
ç•¶å‰æ³¢å‹•çŽ‡: 0.003 (è¶…éŽé–¾å€¼)

æ•ˆæžœ:
- é«˜é¡æŒæœ‰æ¯”ä¾‹ +10%
- åˆ†æ•£è²¸å‡ºæ•¸é‡ Ã—0.7
- åå‘çŸ­æœŸæœŸé–“é¸æ“‡
```

### ç›£æŽ§é‡é»žï¼š
- é—œæ³¨æ—¥èªŒä¸­çš„è¶¨å‹¢åˆ†æž: `"å¸‚å ´ç‹€æ³ - è¶¨å‹¢: rising, æ³¢å‹•çŽ‡: 0.001234"`
- è§€å¯Ÿè³‡é‡‘é…ç½®: `"è³‡é‡‘é…ç½® - é«˜é¡æŒæœ‰: 30%, åˆ†æ•£è²¸å‡º: 70%"`
- æª¢æŸ¥å‹•æ…‹åˆ©çŽ‡: `"æ™ºèƒ½é«˜é¡æŒæœ‰ - å‹•æ…‹åˆ©çŽ‡: 0.6%"`

## ðŸ”„ å›žé€€æ©Ÿåˆ¶

éš¨æ™‚å¯ä»¥é€šéŽä»¥ä¸‹æ–¹å¼å›žé€€åˆ°å‚³çµ±ç­–ç•¥ï¼š
1. è¨­ç½® `ENABLE_SMART_STRATEGY: false`
2. ä½¿ç”¨ Telegram æŒ‡ä»¤ `/smartstrategy off`
3. é‡å•Ÿç¨‹å¼å¾Œç”Ÿæ•ˆ

æ™ºèƒ½ç­–ç•¥å®Œå…¨å‘å¾Œå…¼å®¹ï¼Œå¯ä»¥ç„¡ç¸«åˆ‡æ›ï¼

## ðŸŽ¯ ç¸½çµ

æ™ºèƒ½ç­–ç•¥é€šéŽä»¥ä¸‹æ ¸å¿ƒæŠ€è¡“æå‡å€Ÿè²¸æ•ˆçŽ‡ï¼š
- ðŸ§  **å¸‚å ´æ™ºèƒ½**: å¯¦æ™‚åˆ†æžè¶¨å‹¢å’Œæ³¢å‹•
- âš¡ **å‹•æ…‹èª¿æ•´**: æ ¹æ“šå¸‚å ´è‡ªå‹•èª¿æ•´åƒæ•¸  
- ðŸŽ¯ **ç²¾æº–ç«¶çˆ­**: åˆ†æžå°æ‰‹ä¸¦åˆ¶å®šæœ€å„ªç­–ç•¥
- ðŸ›¡ï¸ **é¢¨éšªæŽ§åˆ¶**: ä¿æŒåŽŸæœ‰å®‰å…¨æ©Ÿåˆ¶ä¸¦å¢žå¼·
- ðŸ“ˆ **æ”¶ç›Šå„ªåŒ–**: é æœŸæå‡ 15-38% å¹´åŒ–æ”¶ç›Š

æ™ºèƒ½ç­–ç•¥æ˜¯å‚³çµ±ç­–ç•¥çš„å¢žå¼·ç‰ˆæœ¬ï¼Œä¿æŒäº†æ‰€æœ‰åŽŸæœ‰å„ªé»žçš„åŒæ™‚å¤§å¹…æå‡äº†å¸‚å ´é©æ‡‰èƒ½åŠ›ï¼